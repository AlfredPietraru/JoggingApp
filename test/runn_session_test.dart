// Import the test package and Counter class
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:jogging/auth/run_session.dart';
import 'package:test/test.dart';

void main() {
  final RunSession runSession = RunSession.fromJson(xdata);

  test('Total amount of data', () {
    expect(runSession.returnDataSize(), 144);
  });
  test('The same number of lists', () {
      expect(runSession.coordinates.length, runSession.distances.length);
      expect(runSession.times.length, runSession.distances.length);
      expect(runSession.times.length, runSession.coordinates.length);
      expect(runSession.times.length, 2);
  });

  test('The same number of elements in first list', () {
    expect(runSession.coordinates[0].length, runSession.distances[0].length);
    expect(runSession.times[0].length, runSession.distances[0].length);
    expect(runSession.times[0].length, runSession.coordinates[0].length);
    expect(runSession.times[0].length, 94);
  });

  test('The same number of elements in second list', () {
    expect(runSession.coordinates[1].length, runSession.distances[1].length);
    expect(runSession.times[1].length, runSession.distances[1].length);
    expect(runSession.times[1].length, runSession.coordinates[1].length);
    expect(runSession.times[1].length, 50);
  });

  test('return from time list value', () {
    expect(runSession.returnFromTimeList(-1), -1);
    expect(runSession.returnFromTimeList(144), -1);
    expect(runSession.returnFromTimeList(145), -1);
    expect(runSession.returnFromTimeList(0), 0.00);
  });

  test('functional to string conversion', () {
    expect(runSession.convertOneListToString(-1), "");
    expect(runSession.convertOneListToString(2), "");
    expect(runSession.convertOneListToString(1), "1410.12 921 44.4521699 26.0440698 ,2716.08 1365 44.4442033 26.0561583 ,2734.06 1370 44.4441634 26.0563778 ,2755.66 1375 44.4441151 26.0566413 ,2770.22 1380 44.4440817 26.0568187 ,2790.36 1385 44.4440368 26.0570644 ,2808.46 1390 44.4439951 26.0572848 ,2822.89 1394 44.4439617 26.0574604 ,2840.91 1399 44.4439201 26.0576798 ,2862.51 1404 44.4438701 26.0579428 ,2880.62 1409 44.4438283 26.0581633 ,2898.65 1414 44.4437883 26.0583834 ,2916.73 1419 44.4437467 26.0586035 ,2931.25 1424 44.4437131 26.0587802 ,2949.53 1429 44.4436718 26.0590032 ,2967.57 1434 44.4436318 26.0592234 ,2984.56 1439 44.4435982 26.0594322 ,3002.11 1444 44.4435618 26.0596472 ,3023.68 1449 44.4435118 26.0599098 ,3038.36 1454 44.4434781 26.0600886 ,3060.99 1459 44.443435 26.0603672 ,3077.42 1464 44.4434001 26.0605683 ,3096.36 1469 44.4433501 26.0607963 ,3111.50 1474 44.4433129 26.0609798 ,3132.92 1479 44.4432685 26.0612424 ,3151.00 1484 44.44323 26.0614636 ,3167.28 1489 44.4431965 26.0616633 ,3188.75 1494 44.4431502 26.0619258 ,3207.18 1499 44.4430971 26.0621457 ,3222.83 1504 44.4430497 26.0623314 ,3238.86 1509 44.4429816 26.0625093 ,3258.16 1514 44.4428885 26.0627145 ,3276.08 1519 44.4427869 26.0628897 ,3291.95 1524 44.4426963 26.0630441 ,3309.91 1529 44.4425933 26.0632184 ,3328.05 1534 44.4424884 26.0633934 ,3345.64 1539 44.4423899 26.0635668 ,3362.07 1544 44.4422997 26.0637307 ,3383.54 1549 44.442177 26.0639396 ,3401.71 1554 44.4420734 26.0641165 ,3419.71 1559 44.4419718 26.0642931 ,3434.23 1564 44.4418882 26.0644335 ,3457.37 1569 44.4417569 26.0646597 ,3471.99 1574 44.4416743 26.064803 ,3489.89 1579 44.4415732 26.0649784 ,3511.48 1584 44.4414505 26.0651892 ,3529.59 1589 44.4413483 26.0653668 ,3547.29 1594 44.4412482 26.0655402 ,3565.32 1599 44.4411465 26.065717 ,3583.42 1604 44.4410433 26.0658934 ");
  });

  test('sampling function for graph', () {
    int maxSelected = 3;
    int chunkSize = 10;
    expect(runSession.createTimeSpeedArray(chunkSize, maxSelected).length, 40);
  });

}

final xdata = {
  "noStage": 2,
  "stage_0":
      "0.00 0 44.44469 26.0545317 ,0.00 27 44.44469 26.0545317 ,39.94 42 44.4450489 26.0545102 ,66.79 47 44.4452816 26.0546002 ,94.68 52 44.4455244 26.0546883 ,126.73 57 44.445711 26.0543805 ,152.11 62 44.4457755 26.0540738 ,175.72 67 44.4459186 26.0538541 ,200.99 72 44.4459997 26.0535568 ,231.11 77 44.4462222 26.0533404 ,264.23 82 44.4464618 26.0530925 ,294.86 87 44.4466851 26.0528666 ,319.56 92 44.4468648 26.0526837 ,354.10 97 44.4471159 26.0524274 ,378.90 102 44.4472963 26.0522437 ,415.42 107 44.4475607 26.0519708 ,446.56 112 44.4477875 26.0517408 ,472.87 117 44.4479947 26.0515808 ,502.12 122 44.4482394 26.0514454 ,514.28 133 44.4483383 26.05138 ,527.68 143 44.4484468 26.0513066 ,540.21 153 44.4485417 26.0512216 ,551.21 163 44.4486233 26.0511432 ,564.55 173 44.4487216 26.0510469 ,575.55 183 44.4488037 26.0509695 ,587.86 193 44.448895 26.0508817 ,600.74 203 44.4489898 26.0507885 ,613.07 213 44.44908 26.0506982 ,624.25 223 44.4491716 26.0506403 ,636.68 233 44.4492833 26.0506467 ,649.18 243 44.4493951 26.0506299 ,660.36 253 44.4494938 26.0506032 ,673.86 263 44.4496133 26.0505732 ,686.28 273 44.4497232 26.050545 ,698.54 283 44.4498316 26.0505167 ,710.76 293 44.4499398 26.05049 ,722.82 303 44.4499751 26.0503463 ,734.87 313 44.4500533 26.0502413 ,747.81 323 44.4501464 26.0501434 ,758.78 333 44.4502267 26.0500632 ,772.36 343 44.4503267 26.0499649 ,784.58 353 44.4504167 26.0498766 ,795.50 363 44.4504967 26.0497967 ,807.73 373 44.4505867 26.0497083 ,821.24 384 44.4506867 26.0496116 ,833.76 394 44.4507784 26.0495199 ,844.68 404 44.4508583 26.04944 ,856.98 414 44.4509483 26.04935 ,869.48 424 44.4510332 26.0492468 ,880.69 434 44.4509818 26.0491252 ,892.06 444 44.45093 26.0490017 ,907.44 459 44.4508617 26.0488333 ,919.09 469 44.4508151 26.0487018 ,929.28 479 44.45077 26.04859 ,941.68 489 44.4507314 26.0484435 ,952.31 499 44.4507396 26.0483101 ,962.90 509 44.4507799 26.0481892 ,974.19 519 44.450865 26.0481117 ,986.56 529 44.4509583 26.0480266 ,996.56 539 44.4510337 26.047958 ,1007.83 549 44.4511183 26.0478799 ,1020.27 559 44.4512116 26.0477934 ,1030.29 569 44.4512866 26.0477234 ,1041.60 579 44.4513716 26.0476451 ,1052.61 589 44.4514549 26.0475701 ,1062.81 599 44.4515317 26.0475 ,1076.17 614 44.4515384 26.0473319 ,1087.77 624 44.4514867 26.047205 ,1099.48 634 44.4514763 26.0470581 ,1114.98 649 44.4516082 26.046995 ,1129.62 664 44.4517349 26.046945 ,1140.87 674 44.4518316 26.0469033 ,1155.34 689 44.4519567 26.0468532 ,1166.08 699 44.4520504 26.0468202 ,1177.84 714 44.4521499 26.0467701 ,1191.85 735 44.4521083 26.0466034 ,1203.26 745 44.4520733 26.0464683 ,1213.29 755 44.4520401 26.0463509 ,1224.10 766 44.4519792 26.0462447 ,1236.67 776 44.4519967 26.0460882 ,1248.17 786 44.4520117 26.0459449 ,1258.61 796 44.4520267 26.045815 ,1271.20 806 44.4520433 26.0456582 ,1286.64 821 44.4521333 26.04551 ,1299.96 831 44.4522049 26.0453754 ,1312.37 841 44.4522566 26.0452369 ,1325.16 851 44.4523067 26.0450918 ,1337.70 861 44.4523483 26.044945 ,1348.89 871 44.4523367 26.044805 ,1361.36 881 44.4523033 26.044655 ,1372.66 891 44.4522717 26.0445197 ,1386.82 901 44.4522318 26.0443503 ,1398.07 911 44.4522017 26.044215 ,1410.12 921 44.4521699 26.0440698 ",
  "stage_1":
      "1410.12 921 44.4521699 26.0440698 ,2716.08 1365 44.4442033 26.0561583 ,2734.06 1370 44.4441634 26.0563778 ,2755.66 1375 44.4441151 26.0566413 ,2770.22 1380 44.4440817 26.0568187 ,2790.36 1385 44.4440368 26.0570644 ,2808.46 1390 44.4439951 26.0572848 ,2822.89 1394 44.4439617 26.0574604 ,2840.91 1399 44.4439201 26.0576798 ,2862.51 1404 44.4438701 26.0579428 ,2880.62 1409 44.4438283 26.0581633 ,2898.65 1414 44.4437883 26.0583834 ,2916.73 1419 44.4437467 26.0586035 ,2931.25 1424 44.4437131 26.0587802 ,2949.53 1429 44.4436718 26.0590032 ,2967.57 1434 44.4436318 26.0592234 ,2984.56 1439 44.4435982 26.0594322 ,3002.11 1444 44.4435618 26.0596472 ,3023.68 1449 44.4435118 26.0599098 ,3038.36 1454 44.4434781 26.0600886 ,3060.99 1459 44.443435 26.0603672 ,3077.42 1464 44.4434001 26.0605683 ,3096.36 1469 44.4433501 26.0607963 ,3111.50 1474 44.4433129 26.0609798 ,3132.92 1479 44.4432685 26.0612424 ,3151.00 1484 44.44323 26.0614636 ,3167.28 1489 44.4431965 26.0616633 ,3188.75 1494 44.4431502 26.0619258 ,3207.18 1499 44.4430971 26.0621457 ,3222.83 1504 44.4430497 26.0623314 ,3238.86 1509 44.4429816 26.0625093 ,3258.16 1514 44.4428885 26.0627145 ,3276.08 1519 44.4427869 26.0628897 ,3291.95 1524 44.4426963 26.0630441 ,3309.91 1529 44.4425933 26.0632184 ,3328.05 1534 44.4424884 26.0633934 ,3345.64 1539 44.4423899 26.0635668 ,3362.07 1544 44.4422997 26.0637307 ,3383.54 1549 44.442177 26.0639396 ,3401.71 1554 44.4420734 26.0641165 ,3419.71 1559 44.4419718 26.0642931 ,3434.23 1564 44.4418882 26.0644335 ,3457.37 1569 44.4417569 26.0646597 ,3471.99 1574 44.4416743 26.064803 ,3489.89 1579 44.4415732 26.0649784 ,3511.48 1584 44.4414505 26.0651892 ,3529.59 1589 44.4413483 26.0653668 ,3547.29 1594 44.4412482 26.0655402 ,3565.32 1599 44.4411465 26.065717 ,3583.42 1604 44.4410433 26.0658934 ",
  "start": Timestamp(1737660000, 0)
};
